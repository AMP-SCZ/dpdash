// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DPDMONGO_DATABASE_URL")
}

model sessions {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  expires DateTime
  session Json?
}

model users {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  uid String
  access String[] @default([])
  bad_pwd_count Int?
  blocked Boolean? @default(false)
  company String?
  department String?
  display_name String
  force_reset_pw Boolean @default(false)
  icon String?
  last_logoff Int
  last_logon Int
  ldap Boolean?
  lockout_time Int?
  mail String?
  member_of String?
  password String
  realms String[] @default([])
  role String
  title String?
  preferences userPreferences
}


type userPreferences {
  complete subjectsCompleted[]
  star subjectsStarred[]
  sort Int? @default(0)
  config String?
}

type subjectsCompleted {
  site String?
  completedSubjects String[] @default([])
}

type subjectsStarred {
  site String?
  starredSubjects String[] @default([])
}
